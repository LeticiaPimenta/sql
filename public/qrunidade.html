<!DOCTYPE html>
<html>
    <head>
        <title>Registre um Qr da sua comanda !</title>

          <!-- Plugins CSS -->
      <link href="css/plugins/plugins.css" rel="stylesheet">
      <!--slider revolution-->
      <link rel="stylesheet" type="text/css" href="revolution/css/settings.css">
      <link rel="stylesheet" type="text/css" href="revolution/css/layers.css">
      <link rel="stylesheet" type="text/css" href="revolution/css/navigation.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/angular-toastr@2/dist/angular-toastr.css">
      <link href="css/style.css" rel="stylesheet">
      <link href="css/style-restaurant.css" rel="stylesheet">
      <link href="css/benjamin-restaurant.css" rel="stylesheet">
      <script src="js/angular.min.js"></script>
      <script src="js/crypto.js"></script>

    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script type="text/javascript" src="/js/jquery.qrcode.min.js"></script>

    <script type="module">
        import QrScanner from "/qr/qr-scanner.min.js";
        const video = document.getElementById('qr-video');
        const debugCheckbox = document.getElementById('debug-checkbox');
        const debugCanvas = document.getElementById('debug-canvas');
        const debugCanvasContext = debugCanvas.getContext('2d');
        const camQrResult = document.getElementById('cam-qr-result');
        const fileSelector = document.getElementById('file-selector');
        const fileQrResult = document.getElementById('file-qr-result');

        function setResult(label, result) {
            var comanda = result.split("-");
         //   alert("Sua comando é a "+comanda[1]);
            localStorage.setItem("loja",comanda[0]);
            localStorage.setItem("comanda",comanda[1]);
            localStorage.setItem('BENJAMIN_SHOP',comanda[0]);

            window.location.replace("/pocket.html");
           
        }

        const scanner = new QrScanner(video, result => setResult(camQrResult, result));
        scanner.start();

        function setDebugMode(isDebug) {
            const worker = scanner._qrWorker;
            worker.postMessage({
                type: 'setDebug',
                data: isDebug
            });
            if (isDebug) {
                debugCanvas.style.display = 'block';
                worker.addEventListener('message', handleDebugImage);
            } else {
                debugCanvas.style.display = 'none';
                worker.removeEventListener('message', handleDebugImage);
            }
        }

        function handleDebugImage(event) {
            const type = event.data.type;
            if (type === 'debugImage') {
                const imageData = event.data.data;
                if (debugCanvas.width !== imageData.width || debugCanvas.height !== imageData.height) {
                    debugCanvas.width = imageData.width;
                    debugCanvas.height = imageData.height;
                }
                debugCanvasContext.putImageData(imageData, 0, 0);
            }
        }
    </script>


    </head>
 
        <body data-spy="scroll" data-offset="71" data-target="#navbarRestaurant" ng-controller="CartController as cart">
        <div id="preloader">
            <div id="preloader-inner"></div>
        </div><!--/preloader-->
        <header class="header-main header-transparent">
            <nav class="navbar navbar-expand-lg navbar-light bg-faded">           
                <div class="container">
                    <a class="navbar-brand" href="pocket.html">
                        <img class='logo logo-light hidden-md-down' src="images/resto/benjamin.png" alt="">
                    </a>
                </div>
            </nav>
        </header><!--/header-->
        <div class="bg-white">
         <div class="container pt90 pb60">
            <div class="row align-items-center">
               <div class="col-lg-6 mb30">
                  <h3 class=" h1 font300 mb30">Escanei o QR Code da mesa</h3>
                  <p>
                     Para identificar qual é sua comanda e sua mesa é necessário escanear o QR Code que esta na mesa em que esta sentado.
                  </p>
                  <a href="/pocket.html" class="btn btn-outline-primary">Voltar</a>
               </div>
               <div class="col-lg-6 mb30 d-none d-xl-block">
                  <img src="images/qr.png" alt="" class="img-fluid">
               </div>
            </div>
                    <center>
            <video muted autoplay playsinline id="qr-video" width="400px"></video>
        </center>
        <canvas id="debug-canvas">
            
        </canvas>

        <center><div id="qrcode" ></div></center>

         </div>
      </div>



<!--intro-->

    
        <!--back to top  -->
        <a href="#" class="back-to-top" id="back-to-top"><i class="ti-angle-up"></i></a>
        <!-- jQuery first, then Tether, then Bootstrap JS. -->
        <script src="js/plugins/plugins.js"></script> 
        <script src="js/restaurant.custom.js"></script>

        <!--revolution slider-->
        <script type="text/javascript" src="revolution/js/jquery.themepunch.tools.min.js"></script>
        <script type="text/javascript" src="revolution/js/jquery.themepunch.revolution.min.js"></script>
        <script type="text/javascript" src="revolution/js/extensions/revolution.extension.video.min.js"></script>
        <script type="text/javascript" src="revolution/js/extensions/revolution.extension.slideanims.min.js"></script>
        <script type="text/javascript" src="revolution/js/extensions/revolution.extension.layeranimation.min.js"></script>
        <script type="text/javascript" src="revolution/js/extensions/revolution.extension.navigation.min.js"></script>
        <script type="text/javascript" src="revolution/js/extensions/revolution.extension.parallax.min.js"></script>
        <script>
            jQuery(document).ready(function () {
                jQuery("#slider1").revolution({
                    sliderType: "standard",
                    jsFileLocation: "../revolution/js/",
                    sliderLayout: "fullscreen",
                    dottedOverlay: "none",
                    delay: 9000,
                    navigation: {
                        arrows: {enable: true}
                    },
                    parallax: {
                        type: "on",
                        levels: [5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85],
                        origo: "enterpoint",
                        speed: 400,
                        bgparallax: "on",
                        disable_onmobile: "off"
                    },
                    gridwidth: 1140,
                    gridheight: 600
                });
            });
        </script>
        <!--google map-->
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAMwVpUj3-oHHW8N21819BhKttOga2Rj2s"></script>
        <script src="js/jquery.gmap.min.js"></script> 
        <script>
            // Marker Map
            $(document).ready(function () {
                map = new GMaps({
                    scrollwheel: false,
                    el: '#markermap',
                    lat: 26.981942,
                    lng: 75.684486

                });
                map.addMarker({
                    lat: 26.981942,
                    lng: 75.684486,
                    title: 'Marker with InfoWindow',
                    infoWindow: {
                        content: '<h4>Assan Restaurant</h4><p>Classic foods & drinks</p>'
                    }
                });


                $(".item_vault").on("click", function() {
                    alert("aqui");
                   /* var tr = $(this).parent();
                    if(tr.hasClass("selected")) {
                        tr.removeClass("selected");
                    } else {
                        tr.addClass("selected");
                    }*/

                });
            });
        </script> 
        <!--sky form plugin js-->
        <script type="text/javascript" src="smart-form/contact-recaptcha/js/jquery.form.min.js"></script>
        <script type="text/javascript" src="smart-form/contact-recaptcha/js/jquery.validate.min.js"></script>
        <script type="text/javascript" src="smart-form/contact-recaptcha/js/additional-methods.min.js"></script>
        <script type="text/javascript" src="smart-form/contact-recaptcha/js/smart-form.js"></script> 
        <script src='https://www.google.com/recaptcha/api.js'></script>
    </body>
</html>
    	
 