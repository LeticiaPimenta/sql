<!DOCTYPE html>
<html lang="en" ng-app="app">
   <head>
      <meta charset="utf-8" />
      <link rel="apple-touch-icon" sizes="76x76" href="/assets/img/apple-icon.png">
      <link rel="icon" type="image/png" href="/assets/img/favicon.png">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
      <title>
         .::Padaria Benjamin :: Sp @ Brasil ::.
      </title>
      <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
      <!-- Extra details for Live View on GitHub Pages -->
      <!-- Canonical SEO -->
      <link rel="canonical" href="https://www.creative-tim.com/product/material-kit-pro" />
      <!--  Social tags      -->
      <meta name="keywords" content="Aplicativo Benjamin a Padaria compre os melhores produtos da loja da forma mais pratica ou peça para levar aonde estiver em São Paulo">
      <meta name="description" content="Peça agora pelo app">
      <!-- Schema.org markup for Google+ -->
      <meta itemprop="name" content="Aplicativo Benjamin a Padaria compre os melhores produtos da loja da forma mais pratica ou peça para levar aonde estiver em São Paulo">
      <meta itemprop="description" content="Aplicativo Benjamin a Padaria compre os melhores produtos da loja da forma mais pratica ou peça para levar aonde estiver em São Paulo">
      <meta itemprop="image" content="https://s3.amazonaws.com/creativetim_bucket/products/46/original/opt_mkp_thumbnail.jpg">
      <!-- Twitter Card data -->
      <meta name="twitter:card" content="product">
      <meta name="twitter:site" content="@benjamin-a-padaria">
      <meta name="twitter:title" content="Bejamin a Padaria">
      <meta name="twitter:description" content="Aplicativo Benjamin a Padaria compre os melhores produtos da loja da forma mais pratica ou peça para levar aonde estiver em São Paulo">
      <meta name="twitter:creator" content="@benjamin-a-padaria">
      <meta name="twitter:image" content="https://s3.amazonaws.com/creativetim_bucket/products/46/original/opt_mkp_thumbnail.jpg">
      <!-- Open Graph data -->
      <meta property="fb:app_id" content="655968634437471">
      <meta property="og:title" content="Benjamin" />
      <meta property="og:type" content="article" />
      <meta property="og:url" content="https://ben-facil.herokuapp.com/carrinho.html" />
      <meta property="og:image" content="https://s3.amazonaws.com/creativetim_bucket/products/46/original/opt_mkp_thumbnail.jpg" />
      <meta property="og:description" content="Aplicativo Benjamin a Padaria compre os melhores produtos da loja da forma mais pratica ou peça para levar aonde estiver em São Paulo" />
      <meta property="og:site_name" content="Creative Tim" />
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/angular-toastr@2/dist/angular-toastr.css">
      <!--     Fonts and icons     -->
      <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
      <!-- CSS Files -->
      <link href="/css/assets/material-kit.min.css?v=2.1.1" rel="stylesheet" />
      <!-- CSS Just for demo purpose, don't include it in your project -->
      <link href="css/benjamin.css" rel="stylesheet" />
      <script src="js/angular.min.js"></script>
      <script src="js/crypto.js"></script>
      <script src="js/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
      <script src="js/popper.min.js" crossorigin="anonymous"></script>
      <script src="js/bootstrap.min.js" crossorigin="anonymous"></script>
      <link href="/css/assets/vertical-nav.css" rel="stylesheet" />
      <link rel="manifest" href="/manifest.json">
      <!-- Google Tag Manager -->
      <script type="text/javascript">
         var nome_importado = "Benjamin";
         
      </script>
      <script>
         (function(w, d, s, l, i) {
           w[l] = w[l] || [];
           w[l].push({
             'gtm.start': new Date().getTime(),
             event: 'gtm.js'
           });
           var f = d.getElementsByTagName(s)[0],
             j = d.createElement(s),
             dl = l != 'dataLayer' ? '&l=' + l : '';
           j.async = true;
           j.src =
             'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
           f.parentNode.insertBefore(j, f);
         })(window, document, 'script', 'dataLayer', 'GTM-NKDMSK6');
      </script>
      </script>
      <!-- End Google Tag Manager -->
      <script type="text/javascript">
            var produtos = new Array();
         produtos[1] = {
         "CODE":1,
         "VALUE":10.00,
         "NAME" : "ACAI COM BANAN",
         "PRESENTATION_NAME" : "Açai com bananas"   
         };
         produtos[2] = {
         "CODE":2,
         "VALUE":14.00,
         "NAME" : "SANDUI COM QUEI",
         "PRESENTATION_NAME" : "Sanduiche natural com queijo"   
         };
         produtos[3] = {
         "CODE":3,
         "VALUE":17.00,
         "NAME" : "BEN ALMOÇO",
         "PRESENTATION_NAME" : "Ben Almoço do dia"   
         };
         produtos[4] = {
         "CODE":4,
         "VALUE":6.49,
         "NAME" : "PASTEL DE NADA",
         "PRESENTATION_NAME" : "Pastelzinho de Belem"   
         };
         
         produtos[5] = {
         "CODE":5,
         "VALUE":14.90,
         "NAME" : "BIG BEN",
         "PRESENTATION_NAME" : "Big Ben"   
         };
         produtos[6] = {
         "CODE":6,
         "VALUE":2.99,
         "NAME" : "MINI CROISS CHOC",
         "PRESENTATION_NAME" : "Mini Croissant Chocolate"   
         };
         
         produtos[7] = {
         "CODE":7,
         "VALUE":11.00,
         "NAME" : "ACAI COM MEL",
         "PRESENTATION_NAME" : "Açai com mel"   
         };
         
         produtos[8] = {
         "CODE":8,
         "VALUE":14.00,
         "NAME" : "SANDUI COM QUEI e PRES",
         "PRESENTATION_NAME" : "Sanduiche natural com queijo e presunto"   
         };

         produtos[9] = {
         "CODE":9,
         "VALUE":14.90,
         "NAME" : "SANDUI COM QUEI e PRES e TOM",
         "PRESENTATION_NAME" : "Sanduiche natural com queijo , presunto e tomate"   
         };
         
         produtos[10] = {
         "CODE":10,
         "VALUE":14.90,
         "NAME" : "SANDUI COM QUEI e PRES e TOM e ALF",
         "PRESENTATION_NAME" : "Sanduiche natural com queijo , presunto , tomate e tomate"   
         };
         

         var catalogo = [];
         catalogo[0] = [1,2,3,4,6];
         catalogo[1] = [1,2];
         
         var campanhas= []
         campanhas[1] = {
         "CODE":1,
         "NAME" : "AÇAIS",
         "DESCRIPTION" : "nossos açais" ,
         "PRODUCTS" : [1,7]
         
         };
         
         campanhas[2] = {
         "CODE":2,
         "NAME" : "SanDUICHE",
         "DESCRIPTION" : "nossos sanduiches" ,
         "PRODUCTS" : [2,8 , 9, 10]
         
         };
         
         
         var campanhas_lojas = [];
         campanhas_lojas[0] = [1,2];
         campanhas_lojas[2] = [1];
         campanhas_lojas[3] = [2];
         
         function getLocalData(name){
         return localStorage.getItem(name)
         }
         
         function setLocalData(name,value){
         if (value!=null)
         localStorage.setItem(name,value);
         else
         localStorage.removeItem(name);
         }
         
         
         var cartObj = null; // global pointer to cart
         var cartCI = -1;
         var str_botoes = '';
         
         
         function cart_initCart() {
         cartObj = new Array();
         cartCI = 0;
         // Check in browser memory if there are a saved cart
         if (getLocalData("BENJAMIN_USERCART")!=null){
         // if previoys cart is present load it
         cartCI = getLocalData("BENJAMIN_USERCART_CI");
         cartObj = JSON.parse(getLocalData("BENJAMIN_USERCART"));
         user_vault = JSON.parse(getLocalData("BENJAMIN_USER_VAULT"));
         console.log(cartObj);
         }else{
         console.log("\t[CART-BENJAMIN] Carrinho esta vazio!");
         }
         }
         
         
         
         function cart_removeCartRow_v2(rowid){
         cartObj = JSON.parse(getLocalData("BENJAMIN_USERCART"));
         cartObj[rowid]=null; // sign row as invalid
         cartObj = cartObj.filter(function(x) { return x !== null }); 
         setLocalData("BENJAMIN_USERCART",JSON.stringify(cartObj));
         }
         
         
         
         angular.module('app', [])
         .service('ngCopy', ['$window', function ($window) {
         var body = angular.element($window.document.body);
         var textarea = angular.element('<textarea/>');
         textarea.css({
         position: 'fixed',
         opacity: '0'
         });
         
         return function (toCopy) {
         textarea.val(toCopy);
         body.append(textarea);
         textarea[0].select();
         
         try {
         var successful = document.execCommand('copy');
         if (!successful) throw successful;
         } catch (err) {
         window.prompt("Copy to clipboard: Ctrl+C, Enter", toCopy);
         }
         
         textarea.remove();
         }
         }])
         .directive('ngClickCopy', ['ngCopy', function (ngCopy) {
         return {
         restrict: 'A',
         link: function (scope, element, attrs) {
         element.bind('click', function (e) {
         ngCopy(attrs.ngClickCopy);
         });
         }
         }
         }])
         .filter('trustAsHTML', ['$sce', function($sce){
         return function(text) {
             return $sce.trustAsHtml(text);
         };
         }])
         .controller('CartController', function($sce) {
         var cart = this;
         cart.produtos = produtos;
         cart.catalogo = catalogo;
         cart.carrinho = JSON.parse(getLocalData("BENJAMIN_USERCART"));
         cart.user_vault = JSON.parse(getLocalData("BENJAMIN_USER_VAULT"));
         cart.email_cliente = getLocalData("BENJAMIN_USERCART_EMAIL");
         
         if(cart.email_cliente)
         cart.hash_email_cliente = Crypto.MD5(getLocalData("BENJAMIN_USERCART_EMAIL"));
         
         function addItemInCart(code){
           var newRow = new Object();
               newRow["CODE"] = code;
               newRow["PRESENTATION_NAME"] = produtos[code].PRESENTATION_NAME;
               newRow["VALUE"] = produtos[code].VALUE;
               
               console.log(newRow);
         
               if (cartObj==null){
                   cartObj = [];
               }
         
               console.log(cartObj);
               cartObj[cartCI++] = newRow;
               console.log(cartObj);
         
               setLocalData("BENJAMIN_USERCART",JSON.stringify(cartObj));
               setLocalData("BENJAMIN_USERCART_CI",cartCI);
         }
         
         function carrinho_local() {
           cartObj = JSON.parse(getLocalData("BENJAMIN_USERCART"));
           console.log(cartObj);
         
           var carrinho = new Array();
           var grand_total = 0;
           for (var xr in cartObj){
               if (cartObj[xr]==null) continue;
         
               grand_total+=parseFloat(cartObj[xr].VALUE);
           }
         
           return grand_total;
         }
         
         
         cart.adicionar = function(id) {
           addItemInCart(id);
           cart.total = carrinho_local();
           cart.carrinho = JSON.parse(getLocalData("BENJAMIN_USERCART")); 
         };
         
         cart.removeItem = function(id){
           cart_removeCartRow_v2(id);
           cart.total = carrinho_local();
           cart.carrinho = JSON.parse(getLocalData("BENJAMIN_USERCART"));
         }
         
         cart.pega_email = function(){
         var email = prompt("Qual é o seu email?");
         
         //if (email.toLowerCase() == "escorpião") {
           var hash = Crypto.MD5(email);
           //alert(email);
           //alert(hash);
         //  }
         setLocalData("BENJAMIN_USERCART_EMAIL",email);
         cart.email_cliente = email;
         cart.hash_email_cliente = hash;
         }
         
         cart.total = carrinho_local();
         cart_initCart (); 
         
         });
         
         
         
         if ('serviceWorker' in navigator) {
         navigator.serviceWorker.register('offline-service-worker.js');
         }
      </script>
   </head>
   <body class="ecommerce-page sidebar-collapse" ng-controller="CartController as cart">
      <!-- Extra details for Live View on GitHub Pages -->
      <!-- Google Tag Manager (noscript) -->
      <noscript>
         <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NKDMSK6" height="0" width="0" style="display:none;visibility:hidden"></iframe>
      </noscript>
      <!-- End Google Tag Manager (noscript) -->
   <!--   <nav class="navbar navbar-color-on-scroll navbar-transparent    fixed-top  navbar-expand-lg " color-on-scroll="100" id="sectionsNav">
         <div class="container">
            <div class="navbar-translate">
               <div class="col-md-12">
                  <form class="form ng-pristine ng-valid" autocomplete="on">
                     <div class="form has-warning bmd-form-group">
                        <input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-empty" placeholder="Busca" autocomplete="on" ng-model="product_filter">
                     </div>
                     <button type="button" class="btn btn-warning btn-raised btn-fab btn-round" autocomplete="on">
                     <i class="material-icons">search</i>
                     </button>
                  </form>
               </div>
            </div>
         </div>
      </nav> -->
      <div class="page-header header-filter header-small" data-parallax="true" style="background-image: url('./img/Imagem 10.png');">
         <div class="container">
            <div class="col-md-8 ml-auto mr-auto text-center">
               <h2 class="title text-white">
                  <span ng-show="cart.email_cliente">Seu Email é {{cart.email_cliente}}</span>
                  <span ng-show="!cart.email_cliente" >
                     <font color="red" >Precisa entrar com o email para comprar</font>
                     <div class="btn btn-warning btn-round" ng-click="cart.pega_email()">Logar</div>
                  </span>
               </h2>
            </div>
         </div>
      </div>
      <div class="main main-raised">
         <div class="container">
            <div class="section">
            <!--   <span ng-show="cart.email_cliente">Seu Email é {{cart.email_cliente}}</span>
               <span ng-show="!cart.email_cliente" >
                  <font
                     color="red" >Precisa entrar com o email para comprar</font>
                  <div class="btn btn-round" ng-click="cart.pega_email()">Logar</div>
               </span> -->
               <div class="container">
               <!--   <div class="carousel slide" data-ride="carousel"  id="products_carousel">
                     <div class="carousel-inner">
                        <div class="carousel-item active">
                           <div class="row">
                              <div class="col-lg-3 col-md-6" ng-repeat="produto in cart.produtos |filter:product_filter" ng-show="produto.PRESENTATION_NAME">
                                 <div class="card card-pricing card-background" style="background-image: url('./img/benja.jpg')">
                                    <div class="card-body">
                                       <h3 class="card-title">{{produto.PRESENTATION_NAME|trustAsHTML}}</h3>
                                       <h4 class="card-category text-info">{{produto.VALUE|currency:"R$"}}</h4>
                                       <div class="card-stats justify-content-center">
                                          <a href="" class="btn btn-warning btn-block" type="button" value="Add" ng-click=cart.adicionar(produto.CODE)>
                                          Adicionar
                                          </a>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                        <div class="carousel-item">
                           <div class="row">
                              <div class="col-lg-3 col-md-6" ng-repeat="produto in cart.produtos |filter:product_filter" ng-show="produto.PRESENTATION_NAME">
                                 <div class="card card-pricing card-background" style="background-image: url('./img/benja.jpg')">
                                    <div class="card-body">
                                       <h3 class="card-title">{{produto.PRESENTATION_NAME|trustAsHTML}}</h3>
                                       <h4 class="card-category text-info">{{produto.VALUE|currency:"R$"}}</h4>
                                       <div class="card-stats justify-content-center">
                                          <a href="" class="btn btn-warning btn-block" type="button" value="Add" ng-click=cart.adicionar(produto.CODE)>
                                          Adicionar
                                          </a>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                     <a class="carousel-control-prev" href="#products_carousel" role="button" data-slide="prev">
                     <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                     <span class="sr-only">Previous</span>
                     </a>
                     <a class="carousel-control-next" href="#products_carousel" role="button" data-slide="next">
                     <span class="carousel-control-next-icon" aria-hidden="true"></span>
                     <span class="sr-only">Next</span>
                     </a>
                  </div> -->
                  <div class="row">
                              <div class="col-lg-3 col-md-6" ng-repeat="produto in cart.produtos |filter:product_filter" ng-show="produto.PRESENTATION_NAME">
                                 <div class="card card-pricing card-background" style="background-image: url('./img/benja.jpg')">
                                    <div class="card-body">
                                       <h3 class="card-title">{{produto.PRESENTATION_NAME|trustAsHTML}}</h3>
                                       <h4 class="card-category text-info">{{produto.VALUE|currency:"R$"}}</h4>
                                       <br>
                                       <div class="card-stats justify-content-center">
                                          <a href="" class="btn btn-warning btn-block" type="button" value="Add" ng-click=cart.adicionar(produto.CODE)>
                                          Adicionar
                                          </a>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                  <hr>
                  <table>
                     <div class="col-md-8 ml-auto mr-auto text-center">
                        <div class="card-title">
                           <h2 class="title text-warning"> Seu Carrinho</h2>
                        </div>
                     </div>
                     <tr ng-repeat="produto in cart.carrinho track by $index" ng-show="produto.PRESENTATION_NAME">
                        <td>{{produto.PRESENTATION_NAME}}</td>
                        <td>{{produto.VALUE|currency:"R$"}}</td>
                        <td>
                           <button class="btn btn-danger btn-round btn-just-icon btn-sm" ng-click=cart.removeItem($index)><i class="material-icons text-white">close</i></button>
                        </td>
                     </tr>
                  </table>
                  <hr>
                  <div><strong>Total </strong>{{cart.total |currency:"R$" }}</div>
                  <form action="https://www.sandbox.paypal.com/cgi-bin/webscr" method="post">
                     <!--Tipo do botão-->
                     <input type="hidden" name="cmd" value="_xclick" />
                     <!--Vendedor e URL de retorno, cancelamento e notificação-->
                     <input type="hidden" name="business" value="contasapagar-facilitator@benjaminapadaria.com.br" />
                     <input type="hidden" name="return" value="https://ben-facil.herokuapp.com/compra/retorno/{{cart.hash_email_cliente}}" />
                     <input type="hidden" name="cancel" value="https://ben-facil.herokuapp.com/compra/cancelamento/{{cart.hash_email_cliente}}" />
                     <input type="hidden" name="notify_url" value="https://ben-facil.herokuapp.com/compra/notificacao" />
                     <!--Internacionalização e localização da página de pagamento-->
                     <input type="hidden" name="charset" value="utf-8" />
                     <input type="hidden" name="lc" value="BR" />
                     <input type="hidden" name="country_code" value="BR" />
                     <input type="hidden" name="currency_code" value="BRL" />
                     <input type="hidden" name="tx" value="{{cart.hash_email_cliente}}">
                     <input type="hidden" name="payer_id" value="{{cart.hash_email_cliente}}">
                     <input type="hidden" name="custom" value="{{cart.hash_email_cliente}}">
                     <input type="hidden" name="at" value="{{cart.hash_email_cliente}}">
                     <!--Informações sobre o produto e seu valor-->
                     <input type="hidden" name="amount" value="{{cart.total}}" />
                     <input type="hidden" name="item_name" value="Servico" />
                     <input type="hidden" name="quantity" value="1" />
                     <!--Botão para submissão do formulário-->
                     <input type="image" src="https://www.paypalobjects.com/pt_BR/BR/i/btn/btn_buynowCC_LG.gif" border="0" ng-show="cart.email_cliente" /> - {{cart.hash_email_cliente}}#{{cart.user_vault}}
                  </form>
               </div>
            </div>
         </div>
      </div>
      </div>
      </div>
      <!-- end-main-raised -->
      <footer class="footer">
         <div class="container">
            <div class="copyright float-center"> 
               <a href="https://www.facebook.com/BenjaminAPadaria/" target="_blank">
               <button class="btn btn-link btn-facebook">
               <i class="fa fa-facebook-square"></i> facebook
               </button>
               </a>
               <a href="https://www.instagram.com/benjaminapadaria/" target="_blank">
               <button class="btn btn-link btn-instagram">
               <i class="fa fa-instagram"></i> instagram
               </button>  
               </a>      
            </div>
         </div>
      </footer>
      <!-- section -->
      <!--   Core JS Files   -->
      <script src="/js/material-kit.min.js" type="text/javascript"></script>
      <noscript>
         <img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=111649226022273&ev=PageView&noscript=1" />
      </noscript>
   </body>
</html>
